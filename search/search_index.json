{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p>Over the years I have worked on a few personal projects and documented fully or partially the most interesting ones. Instead of keeping the documentation for myself I have decided to share it in a very lightweight format. To do so I use mkdocs and Material for MkDocs which are very powerful tools and make the writing and sharing of documentation extremely easy.</p>"},{"location":"tags/","title":"Browse projects by tags","text":""},{"location":"tags/#tag:3d-printing","title":"3D Printing","text":"<ul> <li>            Chaariot - Ski transportation          </li> <li>            Honda CB125 K4          </li> </ul>"},{"location":"tags/#tag:electronics","title":"Electronics","text":"<ul> <li>            Add aux to an old car radio          </li> <li>            From broken TV to light box          </li> <li>            From broken display to light box          </li> <li>            Repairing a tumble dryer          </li> </ul>"},{"location":"tags/#tag:mechanics","title":"Mechanics","text":"<ul> <li>            Honda CB125 K4          </li> </ul>"},{"location":"tags/#tag:software","title":"Software","text":"<ul> <li>            Modem FreeWifi_secure          </li> </ul>"},{"location":"projects/","title":"Projects","text":"<p>This is a collection of things I've built, fixed, or coded over time \u2014 from mechanical repairs and electronics hacking to custom software and 3D prints. Some were quick fixes, others long-term builds, but all were great learning experiences and hands-on problem solving.</p> <ul> <li> <p> Software</p> <p>Scripts, apps, and tools I've written \u2014 some to automate tasks, others just for fun or to learn something new. </p> </li> <li> <p> Electronics</p> <p>Electronics projects, circuit repairs, microcontroller experiments, and general tinkering.</p> </li> <li> <p> 3D Printing</p> <p>Custom parts, brackets, fixes, and functional prints. Some models are made from scratch, others remixed.</p> </li> <li> <p> Mechanics</p> <p>Mainly focused on restoring old motorcycles \u2014 from engine rebuilds to the little tricks that make reassembly smoother.</p> </li> </ul>"},{"location":"projects/archives/","title":"Archives","text":"<p>Browse into past projects.</p>"},{"location":"projects/aux-for-old-car-radio/","title":"Add aux to an old car radio","text":"12-12-201512-12-2015","tags":["Electronics"]},{"location":"projects/aux-for-old-car-radio/#introduction","title":"Introduction","text":"<p>Somes years ago I brought a new car radio with \u201cradio, usb, SD, aux\u201d to be able to listen to the radio or my music, depending on my mood. I quickly noticed that the radio had a poor reception quality.</p> <p>As I did not want to buy an other new \u201chigh quality\u201d car radio I decided to modify an old one, with a very good reception quality and add a jack so that I can listen to the music from my smartphone.</p> <p>So I brought an old Clarion 882NP for 2\u20ac.</p> <p>The radio reception is very good, automatic channel research and automatic saving of the channels with the best reception. Very easy to use, it has only the necessary.</p> <p>It also has a tape player and this is going to be very useful to modify the radio. We will use the tape audio entry and solder the jack on it.</p>","tags":["Electronics"]},{"location":"projects/aux-for-old-car-radio/#steps","title":"Steps","text":"","tags":["Electronics"]},{"location":"projects/aux-for-old-car-radio/#open-and-solder-the-jack","title":"Open and solder the jack","text":"<p>After opening the thing we see what is interesting for us: the cable with 3 wires. It comes from the tape head and goes to the amplifier. By soldering the jack cable in place of the tape head it will be possible to listen to the music coming from the jack when the radio is in tape mode (when a tape is in the tape player and not at the end).</p> <p>Lets try. First prepare the jack cable (I got mine from old headphones). To remove the insulation (blue and red) just burn it with a lighter.</p> <p>Now solder the cable in place of the tape head.</p> <p> </p>","tags":["Electronics"]},{"location":"projects/aux-for-old-car-radio/#try-if-it-works","title":"Try if it works","text":"<p>To do so, we need to put a tape and music on the jack.</p> <p>Works! Don\u2019t put the sound of the smartphone to high, otherwise the sound will be saturated, but it works fine! (the saturation comes from the pre-amplifier dedicated to the tape head. You can remove this one if you now what you\u2019re doing)</p> <p> </p>","tags":["Electronics"]},{"location":"projects/aux-for-old-car-radio/#glue-the-solder-points","title":"Glue the solder points","text":"<p>Put some hot glue on the solder points to avoid short-circuits.</p> <p></p>","tags":["Electronics"]},{"location":"projects/aux-for-old-car-radio/#modify-the-mechanism-to-be-able-to-use-it-without-a-tape","title":"Modify the mechanism to be able to use it without a tape","text":"<p>Okey, it works, but it is necessary to put a tape in the player to listen to the music coming form the jack and once the tape is finished we will have to put the tape in the other way back in the player. A bit to vintage for me. Lets take a look a the mechanism to modify it and be able to use the \u201ceject\u201d button to switch between \u201cradio\u201d and \u201ctape\u201d mode, without a tape.</p> <p>There are two buttons for two functions:</p> <ul> <li>one for the tape detection</li> <li>the other one to detect the tape end</li> </ul> <p>Lets ignore the \u201ctape end\u201d button and try to understand how the inserting of the tape works. The modifications are quite complex to explain by text, so I took a photo of the parts which I removed and where they came from.</p> <p>Also cut the motor supply to avoid unnecessary noise.</p> <p>After that remove the plastic \u201ceject\u201d button and glue it back at the same position but without pushing it to the maximum. This way it is possible to pull it when you want to switch to \u201ctape\u201d mode and push it to go to \u201cradio\u201d mode.</p> <p> </p>","tags":["Electronics"]},{"location":"projects/aux-for-old-car-radio/#result","title":"Result","text":"<p>Remount everything and you get a car radio with audio input!</p> <p>Pull the \"eject\" button to listen to the jack, push it to listen to the radio!</p> <p> </p>","tags":["Electronics"]},{"location":"projects/aux-for-old-car-radio/#updates","title":"Updates","text":"","tags":["Electronics"]},{"location":"projects/aux-for-old-car-radio/#bypass-the-pre-amplifiers","title":"Bypass the pre-amplifiers","text":"<p>After a few days using the radio, I noted that the sound on the jack was noisy. To avoid this it is necessary to bypass the pre-amplifiers initially used for the tape head.</p> <p>So I disassembled the radio again and searched for theses. To do so I followed the coper traces on the board and the components (a capacity and a resistance used as a filter) to arrive at the operational amplifiers. Reading the datasheet gave me the output pin. Then I just needed to cut the pin and solder the audio input here (2x: left and right).</p> <p> </p>","tags":["Electronics"]},{"location":"projects/aux-for-old-car-radio/#change-the-back-light","title":"Change the back light","text":"<p>As the radio was open I decided to change the old back-light of the buttons and display. I used 12V LED lights brought on ebay.</p> <p>For the back-light of the display some adjustments where made on the plastic so that the led fits nicely.</p> <p> </p> <p>This article has also been posted on instructables.</p>","tags":["Electronics"]},{"location":"projects/broken-display-into-light-box/","title":"From broken display to light box","text":"19-02-201519-02-2015","tags":["Electronics"]},{"location":"projects/broken-display-into-light-box/#introduction","title":"Introduction","text":"<p>Do you have a broken display at home? Need a new light?!</p> <p>Reuse the back light of your broken display!</p> <p>I had a Samsung 22\" panel, LCD was broken, so I decided to transform it into a light source.</p> <p>First steps are simple: open the display, get the display panel out of the plastic, and remove the LCD. (sorry I don't have any picture of those steps)</p>","tags":["Electronics"]},{"location":"projects/broken-display-into-light-box/#steps","title":"Steps","text":"","tags":["Electronics"]},{"location":"projects/broken-display-into-light-box/#read-the-datasheet-of-the-display","title":"Read the datasheet of the display","text":"<p>First thing to do is to read the datasheet in order to know of the back light system works.</p> <p>In my case I have a Samsung LTM230HT10, I found the datasheet easily on duckduckgo (or google).</p> <p>The datasheet gives us informations about the back light system:</p> <ul> <li>LED Forward Current: 360mA</li> <li>LED Array Voltage: 35,2V</li> <li>Panel is made of 33 LEDs in 3 arrays of 11 serial LEDs</li> <li>Connector is made of 1 Vin and 3 returns (GND)</li> </ul> <p>So, the power of the LEDs is: P = I x V = 0,360A * 35,2V = 12,6W</p>","tags":["Electronics"]},{"location":"projects/broken-display-into-light-box/#find-the-right-power-supply","title":"Find the right power supply","text":"<p>Now that I have all the useful informations about my LEDs we need to chose the right power supply. LEDs should always be current driven with a current source that gives always constant current (CC). Those power supplies are quite expensive and hard to find compared to constant voltage (CV) ones. So I took my time to find a CC supply with following characteristics:</p> <ul> <li>constant current around 360mA</li> <li>Maximum forward voltage of at least 35V</li> </ul> <p>I finally found the Friwo LT10-36/350 UP with following characteristics:</p> <ul> <li>constant current: 350mA</li> <li>Forward voltage: 8-36V</li> <li>Efficiency: 84%</li> <li>Input: 220V-240V AC</li> <li>cost: ~25\u20ac</li> </ul> <p>Quite low cost, small form factor, 220V input, perfect for a light source!</p> <p></p>","tags":["Electronics"]},{"location":"projects/broken-display-into-light-box/#make-the-optical-layers-hold-in-place","title":"Make the optical layers hold in place","text":"<p>Last thing to do in order to use this new light source on a ceiling: the different parts (light filters etc) must hold in the case. Before I modified the screen they where held in place by the LCD screen. In order to hold them in place I taped some foam as shown on the picture.</p> <p>Note: I removed one of the filter (the upper one) because it had a wired light effect. Removing it made the light source more wide.</p> <p> </p>","tags":["Electronics"]},{"location":"projects/broken-display-into-light-box/#result","title":"Result","text":"<p>The result is very good. 12 W of Led is quite powerful (even if the picture does not shows it). This light is intense but does not burn the eye as direct leds do. The light is very white compared to \u201cclassic\u201d lights.</p> <p></p> <p>This article has also been posted on instructables.</p>","tags":["Electronics"]},{"location":"projects/broken-led-tv-light-box/","title":"From broken TV to light box","text":"19-02-201519-02-2015","tags":["Electronics"]},{"location":"projects/broken-led-tv-light-box/#introduction","title":"Introduction","text":"<p>Today we will transform a broken 80cm LCD TV into a remote controlled light box for light therapy.</p> <p>I brought the TV for cheap money as the LCD was broken. The TV used LED technology for the back light and everything worked fine. It's form a Chines brand \"HARROW\", nothing special. </p>","tags":["Electronics"]},{"location":"projects/broken-led-tv-light-box/#steps","title":"Steps","text":"","tags":["Electronics"]},{"location":"projects/broken-led-tv-light-box/#open-the-tv","title":"Open the TV","text":"<p>The first step: open the thing: very simple, unscrew the screws ... That is how it looks like inside.</p> <p> </p>","tags":["Electronics"]},{"location":"projects/broken-led-tv-light-box/#remove-the-lcd-panel","title":"Remove the LCD panel","text":"<p>Now we need to remove the LCD panel and only keep the back light system.</p> <p>To do this we need to disconnect the LCD panel from the main board and unscrew the screw that hold the LCD in place (the metal bars on the sides). Now we can see the back light system, which is basically just a white surface.</p> <p> </p>","tags":["Electronics"]},{"location":"projects/broken-led-tv-light-box/#hack-the-brightness-control-system","title":"Hack the brightness control system","text":"<p>When you use you're TV as usual you can control the brightness with the remote control. As we don't have access to the configuration screen any more (as we don't see it ...) if we want to use the full power of the back light we need to hack the control system.</p> <p>To do that I first checked the datasheet of the panel. My panel is a LG LC320DXN. You can find the data sheet easily on duckduckgo or google.</p> <p>Going to the back light module specification shows us that the back light power is controlled by a PWM pin on the inverter board. There is also a pin to enable/disable the entire panel.</p> <p>If we always want the maximum power out of the LEDs we simply need to put always a high logic level on the PWM pin. So I simply cut the PWM cable and soldered it on the enable/disable pin. If the panel is on the enable/disable pin will have a logic level high (5.0V) and so the PWM will be at maximum.</p> <p>On the board, the pink wire is the PWM wire, just cut it and solder it on the enable/disable pin, here the gray one.</p> <p></p>","tags":["Electronics"]},{"location":"projects/broken-led-tv-light-box/#result","title":"Result","text":"<p>Now what do we have? A remote controlled light source!! Yes, it you power up everything again, the TV will light up as usual if you use the remote control. Of course the TV does not know the LCD is not connected any more!</p> <p>As we hacked the brightness system the light power will be at maximum all the time.</p> <p>50W of LED is quite powerful!</p> <p> </p>","tags":["Electronics"]},{"location":"projects/broken-led-tv-light-box/#updates","title":"Updates","text":"","tags":["Electronics"]},{"location":"projects/broken-led-tv-light-box/#a-deeper-look-inside","title":"A deeper look inside","text":"<p>Just to see how it is made inside I took a deeper look inside. If you remove the black platic holding the back light system together you will be able to see 4 optical layers. (on my photo there are only 3, I removed the upper one because it's kind of a polarizing filler only useful for the LCD panel). The last layer is a 3 mm white platic pane and the 2 upper ones are translucent paper to make the light as uniform as possible.</p> <p>If you remove them you will finally see the LEDs.</p> <p> </p>","tags":["Electronics"]},{"location":"projects/broken-led-tv-light-box/#remove-the-remote-control-to-use-a-wall-interrupter","title":"Remove the remote control to use a wall interrupter","text":"<p>Okey, this is pretty cool but useless when you want to use the wall interrupter as with usual lights. So lets take a look at the back of the screen: There are 2 boards: the green one for the logic and the beige one is the power supply. We need to get rid of the green one and to do that we need find the different enable pins on the power connector between the two board.</p> <p>This is quite complicated and I would not recommend you to do this if you\u2019re not sure about what you\u2019re doing. Keep in mind that there are life dangerous voltages in game. I checked the different cables with a multi-meter and found out 4 cables:</p> <p>-one delivering a 3.0V \u2013 4.0V unstable voltage when the power supply is on standby and 5.0V if the power supply is enabled</p> <p>-one that if connected to 3.3V enables the power supply</p> <p>-one that if connected to 3.3V enables the back light</p> <p>If we connect them together we have:</p> <p>-the power supply enabled</p> <p>-the back light enabled</p> <p>and finally it works as a usual light: put 220V on the power supply and it will light up!</p> <p></p> <p>This article has also been posted on instructables.</p>","tags":["Electronics"]},{"location":"projects/chaariot/","title":"Chaariot - Ski transportation","text":"19-02-202527-07-2025 <p>Chaariot allows you to transport your skis on wheels. It has been designed as I do sometimes go skiing by public transports. I live quite far away from a train or bus station and walking with all the equipment is very inconvinient.</p> <p>Chaariot can be easily attached to your pair of skis in just a few minutes. A video in the design section explains the full assembly in 4 minutes.</p>","tags":["3D Printing"]},{"location":"projects/chaariot/#requirements","title":"Requirements","text":"<p>I wanted the system to robust, small and lightweight. It should be able to handle the most common surfaces you would expect between your home and the public transport. While skiing it should fit in your backpack. Another important requirement is that I wanted it to be compatible with the most common skis. It should not matter if the skis are flat or rounded on the ends nor should the width. Finally it should be fast to setup and be an all-in-one solution: skis, shoes and poles should be transportable all together.</p>","tags":["3D Printing"]},{"location":"projects/chaariot/#design","title":"Design","text":"<p>After a lot of try and errors I came to a design made of a cart that uses two roller wheels, two spring loaded brackets and is held in place with a strap fitting into the ski binding.</p> <p>The brackets allow for various width of skis to be fitted in and held in place. The strap to the ski binding ensures that the cart will not drop of the skis at the first bump in the road.</p> <p> </p> <p>This setup allows a very good hold between the cart and one of the skis. To attach the other ski I simply use standard ski straps. Instead of using just one of them, I use 3, one at the top of the skis, two at the end. The straps are upgraded with shoe holders and pole holders.</p> <p> </p> <p>Let's have a look at the setup process to have an understanding of the whole system.</p>","tags":["3D Printing"]},{"location":"projects/chaariot/#build-instructions","title":"Build instructions","text":"<p>Chaariot is published under the Creative Commons CC BY-NC-ND 4.0 license. This guide explains how to build your own Chaariot. You will need a 3D printer to print the plastic parts, some basic tools, and sewing supplies.</p>","tags":["3D Printing"]},{"location":"projects/chaariot/#required-parts","title":"Required parts","text":"<ul> <li>The 3D printed parts available on my Makerworld </li> <li>2 roller skate wheels, 63mm diameter, with 6mm diameter bearings</li> <li>2 roller skate screws, 6mm diameter, with M5 threading</li> <li>2 brass tubes with an outer diameter of 8mm, an inner diameter of at least 6mm, and a length of 53mm</li> <li>1 M5 threaded rod, 173mm long</li> <li>2 springs with an inner diameter greater than 8mm and a length of 65mm</li> <li>1 strap approximately 1600mm long and 25mm wide</li> <li>1 elastic cord approximately 700mm long and 2.5mm in diameter</li> <li>3 ski straps approximately 55mm wide</li> </ul>","tags":["3D Printing"]},{"location":"projects/chaariot/#preparing-the-parts","title":"Preparing the parts","text":"<ul> <li>Cut two tubes, each 53mm long</li> <li>Cut a piece of threaded rod, 173mm long</li> <li>Cut 2 pieces of elastic cord, each 350mm long</li> <li>Cut a piece of strap, 400mm long, and sew loops at the ends</li> <li>On the remaining strap (about 1200mm), sew one loop</li> </ul>","tags":["3D Printing"]},{"location":"projects/chaariot/#cart","title":"Cart","text":"<ol> <li>Screw a roller nut onto the 173mm axle</li> <li>Slide one wheel into position</li> <li>Slide a tube onto the axle, passing it over the roller nut</li> <li>Slide a spring over the tube</li> <li>Add the first 3D-printed hook</li> <li>Add the 3D-printed spacer</li> <li>Slide the loop of the 400mm strap into place</li> <li>Add the 3D-printed central piece</li> <li>Repeat the same steps with the remaining parts in reverse order</li> </ol>","tags":["3D Printing"]},{"location":"projects/chaariot/#ski-straps","title":"Ski straps","text":"<ol> <li>Thread a 350mm elastic cord through the two designated holes</li> <li>Insert both ends of the cord into the 3D-printed button</li> <li>Tie a knot with the two ends of the cord</li> <li>Slide the ski straps through the slots</li> </ol>","tags":["3D Printing"]},{"location":"projects/chaariot/#specifications","title":"Specifications","text":"<ul> <li>Under 380g for a length of 22.5\u202fcm with compact 63mm wheels</li> <li>Compatible with skis that have a width between 90mm and 115mm.</li> <li>Less than 4 minutes to setup</li> </ul>","tags":["3D Printing"]},{"location":"projects/freewifi-secure/","title":"Modem FreeWifi_secure","text":"19-02-201519-02-2015","tags":["Software"]},{"location":"projects/freewifi-secure/#introduction","title":"Introduction","text":"<p>Depuis quelques ann\u00e9es Free \u00e0 mis en place des r\u00e9seaux sans fils pour ces abonn\u00e9s mobiles. Chaque FreeBox install\u00e9 dispose et \u00e9met un signal wifi \u00ab FreeWifi_secure \u00bb sur lequel il est possible de ce connecter via son smartphone. Pour la connexion, nul besoin d\u2019identifiants, ceux-ci sont contenus dans la carte SIM (Free donc) du t\u00e9l\u00e9phone. Il est ainsi possible de profiter d\u2019une bonne connexion internet sur l\u2019abonnement \u00e0 2\u20ac par mois sans passer par la 3G, \u00e0 condition d\u2019avoir une borne \u00ab FreeWifi_secure \u00bb dans les parages.</p> <p>Pour des besoins temporaires je voulais me connecter \u00e0 l\u2019un de ces r\u00e9seaux pour refaire mon propre r\u00e9seaux sans fils (disponibles pour plusieurs pc et smartphones). Mon but \u00e9tant d\u2019utiliser le r\u00e9seau \u00ab FreeWifi_secure \u00bb en tant que point d\u2019acc\u00e8s internet.</p>","tags":["Software"]},{"location":"projects/freewifi-secure/#prerequis","title":"Pr\u00e9requis","text":"<p>Pour ce faire, il va me falloir \u00e0 minima:</p> <ul> <li>Un abonnement Free mobile 2\u20ac et la carte SIM</li> <li>un r\u00e9seau \u00ab FreeWifi_secure \u00bb</li> <li>un ordinateur</li> <li>une carte wifi</li> <li>un lecteur de carte sim</li> <li>un routeur wifi pour mon r\u00e9seau sans fil priv\u00e9</li> </ul> <p>Pour l\u2019ordinateur, il me fallait quelque chose de compact. Je me suis donc tourn\u00e9 vers un Raspberry Pi 3 B. Abordable, facile \u00e0 configurer, celui-ci dispose d\u2019une carte Wifi int\u00e9gr\u00e9. Pour qu\u2019il fonctionne il lui faut encore une carte MicroSD de 8go ou plus et une alimentation 5V (2A).</p> <p>Pour le lecteur de carte SIM je me suis en premier lieu tourn\u00e9 vers un mod\u00e8le \u00e0 2$ Chinois disponible sur ebay. Malheureusement celui-ci est av\u00e9r\u00e9 d\u00e9fectueux et j\u2019ai donc investi dans un lecteur de Smart-Card plus cher, le Cherry TC-1100, ma principal contrainte \u00e9tant que celui-ci devait \u00eatre compatible avec Linux.</p> <p>Pour le routeur, n\u2019importe quel routeur sans fils avec une prise Ethernet devrait faire l\u2019affaire.</p> <p></p>","tags":["Software"]},{"location":"projects/freewifi-secure/#installation","title":"Installation","text":"<p>La premi\u00e8re chose \u00e0 faire est d\u2019installer un syst\u00e8me d\u2019exploitation sur le Raspberry Pi. J\u2019ai choisi Raspbian Lite. Le guide d\u2019installation complet est ici.</p> <p>Pour ma part je copie l\u2019image de Raspbian sur la carte SD:</p> <pre><code>sudo dd bs=4M if=2017-04-10-raspbian-jessie-lite.img of=/dev/mmcblk0\n</code></pre> <p>La carte SD est pr\u00eate. Avant de d\u00e9marrer le Raspberry il me faut encore activer l\u2019acces \u00e0 distance via SSH car je n\u2019ai pas d\u2019\u00e9cran. Pour ce faire il faut cr\u00e9er un fichier \u00ab ssh \u00bb sur la partition \u00ab boot \u00bb.</p> <p>Ensuite j\u2019ai besoin d\u2019une adresse IP fixe pour me connecter plus tard \u00e0 mon Raspberry via SSH. Pour ce faire, il faut \u00e9diter le fichier:</p> <pre><code>sudo nano /etc/network/interfaces\n</code></pre> <p>et ajouter/modifier les lignes concernant \u00ab eth0 \u00bb pour avoir la chose suivante:</p> <pre><code>auto eth0\niface eth0 inet static\n    address 192.168.1.1\n    netmask 255.255.255.0\n</code></pre> <p>On peux maintenant mettre la carte SD dans le Raspberry qui sera accessible via l\u2019adresse 192.168.1.1. Configuration D\u00e9sactiver la carte Wifi int\u00e9gr\u00e9 (optionnel)</p> <p>Pour certaines raisons on peut vouloir utiliser une carte Wifi externe au quel cas on peut d\u00e9sactiver la carte Wifi int\u00e9gr\u00e9 au Raspberry Pi (3 B uniquement):</p> <pre><code>sudo nano /boot/config.txt\n\ndtoverlay=pi3-disable-wifi\n</code></pre> <p>D\u00e9sactiver l\u2019IP V6</p> <p>De coutume je n\u2019utilise jamais l\u2019IP V6 et le d\u00e9sactive donc pour simplifier le reste de la configuration:</p> <pre><code>sudo nano /etc/sysctl.conf\n\nnet.ipv6.conf.all.disable_ipv6 = 1\nnet.ipv6.conf.default.disable_ipv6 = 1\nnet.ipv6.conf.lo.disable_ipv6 = 1\nnet.ipv6.conf.eth0.disable_ipv6 = 1\nnet.ipv6.conf.wlan0.disable_ipv6 = 1\n</code></pre>","tags":["Software"]},{"location":"projects/freewifi-secure/#mise-a-jour-et-installation-des-logiciels","title":"Mise \u00e0 jour et installation des logiciels","text":"<p>Connecter maintenant votre Raspberry Pi \u00e0 internet pour faire les mises \u00e0 jours et installer les logiciels n\u00e9cessaires au bon d\u00e9roulement des op\u00e9rations.</p> <pre><code>sudo apt-get update\nsudo apt-get upgrade\n\nsudo apt-get install pcscd pcsc-tools libccid iptables-persistent\n</code></pre>","tags":["Software"]},{"location":"projects/freewifi-secure/#test-du-lecteur-de-carte","title":"Test du lecteur de carte","text":"<p>\u00c9l\u00e9ment crucial, le lecteur de cartes. On vient d\u2019installer les logiciels n\u00e9cessaires \u00e0 sont bon fonctionnement, il faut maintenant tester:</p> <pre><code>sudo pcsc_scan\n</code></pre> <p>La commande devrait afficher quelque chose comme \u00e7a:</p> <pre><code>PC/SC device scanner\nV 1.4.23 (c) 2001-2011, Ludovic Rousseau &lt;ludovic.rousseau@free.fr&gt;\nCompiled with PC/SC lite version: 1.8.11\nUsing reader plug'n play mechanism\nScanning present readers...\n0: Cherry Smart Card Reader USB (OKCM0030407140701284559729565853) 00 00\n</code></pre> <p>Si ce n\u2019est pas le cas, le lecteur de carte n\u2019est pas reconnu et il va falloir chercher pourquoi\u2026 Bonne chance!</p> <p>Si tout \u00e0 fonctionner correctement on peut ins\u00e9rer la carte SIM dans le lecteur et on devrait voir s\u2019afficher quelque chose comme \u00e7a:</p> <pre><code>Card state: Card inserted, Shared Mode\n</code></pre> <p>C\u2019est tr\u00e8s bon signe!</p>","tags":["Software"]},{"location":"projects/freewifi-secure/#configuration-wifi","title":"Configuration Wifi","text":"<p>Il nous faut cr\u00e9er un fichier de configuration pour wpa_supplicant:</p> <pre><code>sudo nano /etc/wpa_supplicant/FreeWifi.conf\n\ncred={\n  imsi=\"none\" # anything but blank value\n}\nnetwork={\n  #bssid=MACADRESS #A Ajouter si plusieurs reseaux sont disponibles et que l'un est meilleur\n  ssid=\"FreeWifi_secure\"\n  key_mgmt=WPA-EAP IEEE8021X\n  eap=SIM\n  pin=\"1234\" #Code de la carte SIM par defaut\n  pcsc=\"\"\n}\n</code></pre> <p>On peut maintenant essayer de ce connecter au r\u00e9seau:</p> <pre><code>sudo iwconfig wlan0 essid \"FreeWifi_secure\" &amp;&amp; sudo wpa_supplicant -i wlan0 -d nl80211 -c /etc/wpa_supplicant/FreeWifi.conf -B\n</code></pre> <p>(il vous faudra peut-\u00eatre r\u00e9gler -d selon vote carte wifi)</p> <p>Si tout a fonctionner correctement vous devriez avoir une adresse IP et devriez \u00eatre capable de pinger 8.8.8.8 sans avoir internet sur la partie Ethernet de votre Raspberry.</p> <p>On peut alors configurer les interfaces pour que le Raspberry se connecter automatiquement au r\u00e9seau Wifi lors du d\u00e9marrage de celui-ci:</p> <pre><code>sudo nano /etc/network/interfaces\n</code></pre> <p>Modifier les lignes concernant wlan0:</p> <pre><code>allow-hotplug wlan0\niface wlan0 inet dhcp\n    wpa-driver nl80211\n    wpa-conf /etc/wpa_supplicant/FreeWifi.conf\n    wireless-power off\n</code></pre> <p>Il faut peut-\u00eatre r\u00e9gler  wpa-driver selon votre carte wifi.</p> <pre><code>sudo reboot\n</code></pre> <p>On v\u00e9rifie avec iwconfig et ifconfig si tout est ok.</p>","tags":["Software"]},{"location":"projects/freewifi-secure/#mecanismes-periodiques","title":"M\u00e9canismes periodiques","text":"<p>A ce stade, vous devriez avoir internet sur votre Raspberry Pi via la connexion \u00ab FreeWifi_secure \u00bb. Mais il y a un bemol\u2026 Vous vous rendrez rapidement compte qu\u2019au bout de 30 minutes maximum vous n\u2019aurez plus acc\u00e8s \u00e0 internet. C\u2019est parce que le wifi \u00ab FreeWifi_secure \u00bb doit recevoir des informations d\u2019authentifications toutes les 30 minutes, sinon il coupe l\u2019acc\u00e8s \u00e0 internet. Heureusement il existe une commande pour renvoyer les informations d\u2019authentifications sans pour autant ce d\u00e9connecter du r\u00e9seau wifi:</p> <pre><code>sudo wpa_cli reauthenticate\n</code></pre> <p>Si vous ex\u00e9cuter cette commande, vous verrez la led du lecteur de carte SIM clignoter. Le logiciel est donc aller lire les informations d\u2019authentifications sur la carte SIM et les a envoyer au spot \u00ab FreeWifi_secure \u00bb.</p> <p>Pour \u00eatre sur de ne pas perdre la connexion internet il faut ex\u00e9cuter cette commande au moins toutes les 30 minutes. 15 minutes c\u2019est plus sur, et \u00e7a ne co\u00fbte pas bien cher. Pour ce faire nous utiliserons l\u2019utilitaire crontab.</p> <pre><code>sudo crontab -e\n</code></pre> <p>s\u2019ouvre alors un \u00e9diteur de texte dans le quel il faut ajouter la ligne suivante:</p> <pre><code>*/15 * * * * sudo wpa_cli reauthenticate &gt;/dev/null 2&gt;&amp;1\n</code></pre> <p>Si vous avez la patience, vous verrez la led du lecteur de carte clignot\u00e9 toutes les 15 minutes.</p> <p>Internet devrait \u00eatre beaucoup plus stable maintenant et vous devriez pouvoir profiter d\u2019internet pendant plus de 30 minutes d\u2019affiler sans d\u00e9connexion.</p> <p>Mais mais mais, il se peut que de temps \u00e0 autres, pour X raisons, \u00e7a ne fonctionne plus. C\u2019est pourquoi j\u2019ai cr\u00e9e un script charg\u00e9 de v\u00e9rifier l\u2019\u00e9tat de la connexion et de r\u00e9gler les probl\u00e8mes si l\u2019acc\u00e8s \u00e0 internet est perdu.</p> <pre><code>sudo nano CheckInternet.sh\n\n#!/bin/bash\nup=true\n\nfor i in {1..24}\ndo\n        if $up ; then\n                pingGoogle=`ping 8.8.8.8 -I wlan0 -s 0 -c 3 -i 1 &gt;&gt;/dev/null; echo $?`\n                if [ $pingGoogle -eq 0 ]; then\n                        echo up\n                else\n                        date +%s &gt;&gt; /home/pi/dhclient.log\n                        #echo Internet is down &gt;&gt; /home/pi/dhclient.log\n                        up=false\n                        wlan=`iwconfig wlan0 | grep \"FreeWifi_secure\" | wc -l`\n\n                        if [ $wlan -eq 0 ]; then\n                                echo wlan disconnected &gt;&gt; /home/pi/dhclient.log\n                                sudo ifdown wlan0\n                                sudo ifup wlan0\n                        else\n                                echo reinit dhcp client &gt;&gt; /home/pi/dhclient.log\n                                sudo dhclient -r wlan0\n                                sudo dhclient wlan0\n                        fi\n                        sudo wpa_cli reauthenticate\n                fi\n        fi\ndone\n\nsudo chmod +x CheckInternet.sh\n</code></pre> <p>On peut tester le script en ex\u00e9cutant celui-ci:</p> <pre><code>sudo ./CheckInternet.sh\n</code></pre> <p>Le script va pinger google 10 fois. Si tous les pings sont perdus l\u2019acc\u00e8s internet est perdu, mais normalement la connexion \u00e0 la borne wifi est toujours bonne. Il suffit alors de demander une nouvelle IP: les deux lignes dhclient s\u2019en charges.</p> <p>Ce script s\u2019ex\u00e9cute toutes les minutes:</p> <pre><code>sudo crontab -e\n\n*/1 * * * * sudo bash /home/pi/CheckInternet.sh &gt;/dev/null 2&gt;&amp;1\n</code></pre> <p>On a maintenant une connexion internet fiable, qui est automatiquement v\u00e9rifi\u00e9.</p>","tags":["Software"]},{"location":"projects/freewifi-secure/#redirection-du-trafic-vers-le-port-ethernet","title":"Redirection du trafic vers le port Ethernet","text":"<p>C\u2019est bien beau tout \u00e7a, mais moi ce que je voulais c\u2019\u00e9tait avoir mon propre r\u00e9seau wifi, accessible par tous mes objets (pc, smartphones, \u2026) en m\u00eame temps. C\u2019est bien pour ce que nous disposons d\u2019un routeur wifi. Il sera connecter au port Ethernet du Raspberry. Mais avant cela, il faut dire au Raspberry de rediriger tout le trafic du r\u00e9seau wifi vers le port Ethernet, et de rediriger les requ\u00eates qui arrive via le port Ethernet vers le r\u00e9seau wifi.</p> <p>Premi\u00e8re chose a faire, activer la redirection de trafic:</p> <pre><code>sudo nano /etc/sysctl.d/30-ipforward.conf\n\nnet.ipv4.ip_forward=1\nnet.ipv6.conf.default.forwarding=1\nnet.ipv6.conf.all.forwarding=1\n</code></pre> <p>Ensuite, \u00e9crire les regles iptables:</p> <pre><code>sudo iptables -A FORWARD --in-interface eth0 -j ACCEPT\nsudo iptables --table nat -A POSTROUTING --out-interface wlan0 -j MASQUERADE\nsudo iptables -I FORWARD 1 -m conntrack --ctstate ESTABLISHED,RELATED -j ACCEPT\n\nsudo iptables-save\n\n# Generated by xtables-save v1.8.2 on Wed Apr  1 20:40:02 2020\n*filter\n:INPUT ACCEPT [349:30887]\n:FORWARD ACCEPT [162:57661]\n:OUTPUT ACCEPT [261:30187]\n-A FORWARD -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT\n-A FORWARD -i eth0 -j ACCEPT\nCOMMIT\n# Completed on Wed Apr  1 20:40:02 2020\n# Generated by xtables-save v1.8.2 on Wed Apr  1 20:40:02 2020\n*nat\n:PREROUTING ACCEPT [0:0]\n:INPUT ACCEPT [0:0]\n:POSTROUTING ACCEPT [0:0]\n:OUTPUT ACCEPT [0:0]\n-A POSTROUTING -o wlan0 -j MASQUERADE\nCOMMIT\n# Completed on Wed Apr  1 20:40:02 2020\n\nsudo nano /etc/iptables/rules.v4\n\n\n\n# Generated by iptables-save v1.4.21\n*filter\n:INPUT ACCEPT [0:0]\n:FORWARD ACCEPT [0:0]\n:OUTPUT ACCEPT [0:0]\nCOMMIT\n# Generated by iptables-save v1.4.21\n*filter\n:INPUT ACCEPT [445:55513]\n:FORWARD ACCEPT [543:45114]\n:OUTPUT ACCEPT [345:50556]\n-A FORWARD -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT\n-A FORWARD -i eth0 -o wlan0 -j ACCEPT\nCOMMIT\n# Generated by iptables-save v1.4.21\n:PREROUTING ACCEPT [484:32167]\n:INPUT ACCEPT [1:237]\n:OUTPUT ACCEPT [17:1323]\n:POSTROUTING ACCEPT [1:172]\n-A POSTROUTING -o wlan0 -j MASQUERADE\nCOMMIT\n# Completed\n\nsudo reboot\n</code></pre>","tags":["Software"]},{"location":"projects/freewifi-secure/#routeur","title":"Routeur","text":"<p>Il faut configurer le routeur pour que celui-ci se connecte sur le port WAN \u00e0 l\u2019adresse configurer pr\u00e9c\u00e9demment sur le Raspberry, \u00e0 savoir 192.168.1.1.</p> <p>C\u2019est tout!</p>","tags":["Software"]},{"location":"projects/freewifi-secure/#sources","title":"Sources","text":"<p>https://ohnomoregadgets.wordpress.com/2013/08/28/free-wifi-with-eap-sim-on-a-desktop-computer/</p> <p>https://www.raspberrypi.org/documentation/installation/installing-images/linux.md</p> <p>https://www.raspberrypi.org/documentation/remote-access/ssh/README.md</p> <p>https://wiki.debian.org/NetworkConfiguration#Configuring_the_interface_manually</p> <p>https://github.com/raspberrypi/firmware/blob/master/boot/overlays/README</p> <p>https://wiki.debian.org/DebianIPv6#How_to_turn_off_IPv6</p> <p>https://wiki.archlinux.org/index.php/Internet_sharing</p>","tags":["Software"]},{"location":"projects/honda-cb125k/","title":"Honda CB125 K4","text":"01-02-202422-07-2025","tags":["Mechanics","3D Printing"]},{"location":"projects/honda-cb125k/#introduction","title":"Introduction","text":"<p>I did restore an old Honda CB125 K4 some time ago and I'm sharing some apsects of the restoration here. Most valuable is probably the documentation sections where I store all the files I found on internet over the time, including the Workshop manual and the parts list.</p>","tags":["Mechanics","3D Printing"]},{"location":"projects/honda-cb125k/#fork-seal-assembly","title":"Fork seal assembly","text":"<p>Assembling back the front fork may include changing the oil seals between the fork bottom and the pipe. the manual shop (see documentation) refers to the fork seal driver 07947-3550000 tool to this.</p> <p>I used a 40mm PVC pipe meant for wastewater. You will need a tube longer than the fork pipe, about 1m. Drill a hole at one end of the pipe. This will be used to pull a ratchet strap trough. With the strap go though the fork bottom hole meant for the wheel axle. Adjust everything and use the ratchet to put the seal in position. Be sure to oil all the parts before.</p> <p> </p>","tags":["Mechanics","3D Printing"]},{"location":"projects/honda-cb125k/#piston-ring-compressor","title":"Piston ring compressor","text":"<p>In order to put back the pistons in the cylinders the manual shop (see documentation) stipulates the use of a tool named piston ring compressor 07954-2000000. As a remplacement to this tool that I don't have I've designed an equivalent object which is 3d printed. It makes it very convinient to put the pistons back as you have both hands free.</p> <p> </p> <p>You can find the 3d files on my Makerworld profile.</p>","tags":["Mechanics","3D Printing"]},{"location":"projects/honda-cb125k/#ignition-timing-oil-cover","title":"Ignition timing oil cover","text":"<p>If you want to precisely adjust the ignition timing you will need to use a stroboscopic timing light and you need to see the F mark and Advance mark of the generator rotor while the engine is running.</p> <p>You will likely have oil everywhere as the generator rotor is partially immersed in the engine oil. To avoid a mess while doing the adjustment I have designed a 3d printed cover plate.</p> <p></p> <p>You can find the 3d files on my Makerworld profile.</p>","tags":["Mechanics","3D Printing"]},{"location":"projects/honda-cb125k/#documentation","title":"Documentation","text":"<p>I don't remember the sources from where I got all thoses files, sorry for not quoting them.</p> <ul> <li>Honda CB125B6 Shop Manual</li> <li>Honda CB125K5 Parts List</li> <li>Honda CB125K5 Revue Moto Technique</li> <li>Honda CB125K5 Electrique</li> <li>Honda CB125K Manuel utilisateur</li> </ul>","tags":["Mechanics","3D Printing"]},{"location":"projects/whirlpool-tumble-dryer/","title":"Repairing a tumble dryer","text":"10-12-201510-12-2015","tags":["Electronics"]},{"location":"projects/whirlpool-tumble-dryer/#introduction","title":"Introduction","text":"<p>Recently my tumble dryer showed an error and refused to dry. It is a Whirlpool AWZ 8476 from 2006, so it has nearly 10 years of good and loyal service! But throwing it right away is not my style.</p>","tags":["Electronics"]},{"location":"projects/whirlpool-tumble-dryer/#what-does-the-error-code-means","title":"What does the error code means?","text":"<p>The error is the following: 4 green leds are on, 3 red one are blinking.</p> <p>After some researches on the internet here I found that what the leds are meaning. It is the error code \u201cF15/FF humidity detection system failure\u201d which can be caused by:</p> <ul> <li>humidity sensor failure</li> <li>temperature sensors failure</li> </ul> <p>Knowing that the temperature sensors have there own error code I was pretty sure it was the humidity sensor. But what does it look like? It is the two metal bars near the filter.</p> <p> </p>","tags":["Electronics"]},{"location":"projects/whirlpool-tumble-dryer/#identify-the-failure","title":"Identify the failure","text":"<p>I don\u2019t really see how metal bars could fail. There is probably some electronic behind which is failing. After removing the hood I saw that the metal bars are connected to a box on the side of the machine. The box is holding a electronic card which has two other connectors.</p> <p>So we have 3 connectors:</p> <ul> <li>a big one made of plastic: the power supply (230V)</li> <li>\u201cHS\u201d where the metal bars are connected</li> <li>\u201cHRC\u201d connected to the main board. It is the signal to tell the main board if the content of the dryer is dry</li> </ul> <p>After a quick check of the board none of the usual components seemed to be broken (diodes and capacities).</p> <p>When I removed the hood just after the machine showed the error I noticed that the transformer (grey box) was quite hot. On transformer that are quite old there is a possibility that the isolation of the coils is damaged. So I decided to check the coils after unsolder the transformer.</p> <p>By ambient temperature the internal resistance of the coils seems to be okey. But after heating the transformer the resistance on the secondary side (output) becomes infinite.</p> <p>This means that the coil is open and the transformer can not work properly. The rest of the board is not powered and the sensor can not work.</p> <p> </p>","tags":["Electronics"]},{"location":"projects/whirlpool-tumble-dryer/#replacing-the-transformer","title":"Replacing the transformer","text":"<p>I brought a new similar transformer for less than 5\u20ac.</p> <p>The characteristics are very similar, only the maximum working temperature (ta) is a bit lower. Nevertheless it should work.</p> <p> </p>","tags":["Electronics"]},{"location":"projects/whirlpool-tumble-dryer/#test","title":"Test","text":"<p>Once the board back in the box and connected to the rest, I just have to test my work.</p> <p>The error code disappeared and I can use my dryer again!</p> <p> </p> <p>This article has also been posted on instructables.</p>","tags":["Electronics"]}]}